<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:gui="http://java.sun.com/jsf/facelets"
      xmlns:ice="http://www.icesoft.com/icefaces/component"
      xmlns:h="http://java.sun.com/jsf/html">
    <head>
        <meta http-equiv="Refresh" content="0;url=#{SamlLoginPage.redirect}" rendered="#{SamlLoginPage.redirect != null}"/>        
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>SAML Login Page</title>
    </head>
    <body>
        <gui:composition template="/vanilla_template.xhtml">
            <gui:param name="pageTitle" value="#{bundlePageInfo.loginTitle} - #{VDCRequest.dataversePageTitle}"/>
            <gui:define name="body">
                <div id="dvnLoginPageWrap">
                    <div class="dvnRound">
                        <ice:form id="vanillaLoginForm">
                            <ice:inputHidden id="vdcId" value="#{VDCRequest.currentVDCId}"/>
                            <ice:inputHidden binding="#{SamlLoginPage.hiddenStudyId}" value="#{SamlLoginPage.studyId}"/>
                            <div id="layoutPanel1" class="dvnLoginContent">
                                <div class="dvnLoginInputArea">
                                    <div id="samllogin">
                                        <fieldset>
                                            <legend>SAML Login</legend>
                                            <div styleClass="dvnLoginFailed" rendered="#{SamlLoginPage.loginFailed}">
                                                <ice:outputText styleClass="errorMessage" value="#{SamlLoginPage.errMessage}"/>
                                            </div>
                                            <p>Welcome. Please click "<a href="../../saml/Logout">Log out</a>" to log out of the federated account.</p>
                                            <p>
                                                <input type="button" value="Log Out" onClick="window.location.href='../../saml/Logout';"/>
                                            </p>
                                        </fieldset>

                                        <!-- ************ Username login section ******************* -->
                                        <p>
                                            <a href="SamlLoginPage.xhtml">Login</a>
                                        </p>
                                        <p>
                                            <a href="LoginPage.xhtml">Login with DVN Account</a>
                                        </p>
                                        <!-- ************* end username login section *************** -->

                                    </div>
                                    <!-- ************* end SAML login section *************** -->
                                </div>
                                <div class="dvnLoginContentText">
                                    <div id="dvnLoginPageHeader">
                                        <a name="login" title="Dataverse Network Login"><ice:outputText value="#{VDCRequest.vdcNetwork.name} Dataverse Network" styleClass="dvnLoginHeadingText" escape="false"/></a>
                                    </div>
                                    <div jsfc="ice:panelGroup" styleClass="dvnMsgBlockRound dvnInformationMessage">
                                    </div>
                                    <div class="dvnLoginContentAreaFooter">
                                        <a href="http://thedata.org" target="_blank" title="Link to the Dataverse Network Project"><img alt="Powered by the Dataverse Network Project" src="/dvn/resources/images/dvnPoweredByLogo.gif"/></a>
                                    </div>
                                </div>
                            </div>
                        </ice:form>
                    </div>
                </div>
            </gui:define>
        </gui:composition>
    </body>
</html>

